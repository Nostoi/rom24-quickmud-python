{
  "description": "ROM skill check golden values for parity verification",
  "c_source": "src/skills.c, src/fight.c",
  "skill_checks": [
    {
      "name": "parry_check_basic",
      "skill": "parry",
      "skill_level": 80,
      "attacker_level": 10,
      "defender_level": 10,
      "has_weapon": true,
      "expected_chance": 40,
      "c_formula": "chance = get_skill(victim, gsn_parry) / 2",
      "notes": "80 / 2 = 40% base chance"
    },
    {
      "name": "parry_check_level_bonus",
      "skill": "parry",
      "skill_level": 80,
      "attacker_level": 5,
      "defender_level": 15,
      "has_weapon": true,
      "expected_chance": 50,
      "c_formula": "chance = get_skill(victim, gsn_parry) / 2 + (victim->level - ch->level)",
      "notes": "80/2 + (15-5) = 40 + 10 = 50%"
    },
    {
      "name": "dodge_check_basic",
      "skill": "dodge",
      "skill_level": 100,
      "attacker_level": 10,
      "defender_level": 10,
      "expected_chance": 50,
      "c_formula": "chance = get_skill(victim, gsn_dodge) / 2",
      "notes": "100 / 2 = 50% base chance"
    },
    {
      "name": "shield_block_basic",
      "skill": "shield block",
      "skill_level": 90,
      "attacker_level": 10,
      "defender_level": 10,
      "has_shield": true,
      "expected_chance": 45,
      "c_formula": "chance = get_skill(victim, gsn_shield_block) / 2",
      "notes": "90 / 2 = 45%"
    },
    {
      "name": "hide_check",
      "skill": "hide",
      "skill_level": 75,
      "level": 15,
      "expected_threshold": 75,
      "c_formula": "number_percent() < get_skill(ch, gsn_hide)",
      "notes": "Success if roll < 75"
    },
    {
      "name": "steal_check",
      "skill": "steal",
      "skill_level": 80,
      "thief_level": 20,
      "victim_level": 15,
      "awake": true,
      "expected_chance": 60,
      "c_formula": "percent = number_percent() + (awake ? 10 : -50)",
      "notes": "Roll + 10 (awake) vs skill 80"
    },
    {
      "name": "pick_lock_check",
      "skill": "pick lock",
      "skill_level": 90,
      "lock_difficulty": 0,
      "expected_threshold": 90,
      "c_formula": "number_percent() < get_skill(ch, gsn_pick_lock)",
      "notes": "Success if roll < 90"
    }
  ],
  "saving_throws": [
    {
      "name": "saves_spell_equal_level",
      "caster_level": 20,
      "victim_level": 20,
      "victim_saving_throw": 0,
      "dam_type": "DAM_FIRE",
      "expected_save_chance": 50,
      "c_formula": "save = 50 + (victim->level - level) * 5 - victim->saving_throw * 5",
      "notes": "50 + 0 - 0 = 50%"
    },
    {
      "name": "saves_spell_lower_victim",
      "caster_level": 30,
      "victim_level": 20,
      "victim_saving_throw": 0,
      "dam_type": "DAM_COLD",
      "expected_save_chance": 0,
      "c_formula": "50 + (20-30)*5 = 50 - 50 = 0%",
      "notes": "Clamped to 5% minimum"
    },
    {
      "name": "saves_spell_higher_victim",
      "caster_level": 10,
      "victim_level": 20,
      "victim_saving_throw": -5,
      "dam_type": "DAM_LIGHTNING",
      "expected_save_chance": 95,
      "c_formula": "50 + (20-10)*5 - (-5)*5 = 50 + 50 + 25 = 125, clamped to 95%",
      "notes": "Clamped to 95% maximum"
    }
  ],
  "verification": "Seed RNG, run skill checks with these params, compare pass/fail rate over many trials"
}
